const solutions = [
    { 
        problem: "Avacado phosphorus deficiency", 
        infestationimage: "./images/Phosporus deficiency in avocado.jpeg",
        description: "Young leaves may be dark green and have purplish veins, especially on the underside of leaves. Older leaves can develop an overall purplish tint and tip dieback. Leaves may be curled, distorted, smaller than normal, or drop prematurely.",
        solution: "Use <strong>Potphite</strong> 20mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14-21 days",
        image: "./images/Potphite.jpeg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Avacado potassium deficiency", 
        infestationimage: "./images/Avocado pottasium deficiency.jpg",
        description: "Large irregular necrotic spots are seen on old leaves, followed by interveinal chlorisis and smaller fruit size.",
        solution: "Use <strong>Okinawo Gold Fruit</strong> 20mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14-21 days",
        image: "./images/Okinawo.jpeg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Potphite", 
        infestationimage: "./images/Potphite.jpeg",
        description: "POTPHITE® Contains <strong>Phosphorus (P205): 525 g/l , Potassium (K20): 275 g/l)</strong> is a highly efficient and effective liquid potassium phosphate fertilizer, providing plants with the necessary nutrition to thrive in any crop condition.It promotes good fruit set, reduces fruit drop, increases sugar levels, improves texture and shelf life, and enhances the colour of cut flowers. It ensures rapid rooting of all crops while guaranteeing balanced plant growth.",
        solution: "Use <strong>Potphite</strong> 20mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/potphite avacado.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Zincbomate", 
        infestationimage: "./images/Zincbomate.jpeg",
        description: "ZINCBOMATE® Contains <strong>Water soluble Zinc (Zn) 16% , Boron (B) 2%, Seaweed extract 5% </strong> is a revolutionary foliar fertilizer, enriched with seaweed extract, designed to enhance plant growth and development by rapidly providing essential boron and zinc nutrients.Rapid supplementation of ZINCBOMATE® improves pollen production, enhances flower and leaf vigor, promotes fruit development, and aids bud differentiation in all agricultural crops and ornamentals.It is rich in boron and zinc, essential nutrients for key stages such as flowering",
        solution: "Use <strong>Zincbomate</strong> 20mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/Zincbomate coffee.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Calcibora", 
        infestationimage: "./images/Calcibora.jpeg",
        description: "CALCIBORA® Contains <strong>Sea weed extract 30%, Organic matter 2%, Calcium Oxide (CaO) 20%, Boron Trioxide (B2O3) 1%, Potassium (K₂O) 8% </strong> is a highly soluble liquid foliar fertilizer formulation with high Calcium, Potassium, Organic matter, Seaweed extract, and Boron content.It is used for crop-specific foliar nutrition to prevent and eliminate general calcium, potassium, and boron deficiencies as well as maintain quality by eradicating biotic and abiotic stress on ornamentals, fruit, legumes, and vegetables.",
        solution: "Use <strong>Calcibora</strong> 20mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/Water melon calcibora.webp",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Boroking", 
        infestationimage: "./images/Boroking.jpeg",
        description: "BOROKING® <strong>Contains Boron (BO3) 20% Organic matter 20%, Seaweed extract 20% Nitrogen (N) 4% </strong> is a versatile foliar fertilizer, crucial for enhancing plant growth and development across various stages, from flowering to fruit set. Its comprehensive formulation ensures optimal nutrient uptake and utilization, promoting essential functions such as cell division, membrane integrity, and hormone movement.Its formulation includes necessary additives for perfect adherence to the leaves of crops. It can be sprayed at all stages of plant growth, particularly at flower bud formation for ornamentals, flowering, and fruit set for crops such as coffee, flowers, mangoes, and other fruits and flowers.",
        solution: "Use <strong>Boroking</strong> 20mls/20ltrs + <strong>Polysil<strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/coffee flowering.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Azolaxyl", 
        infestationimage: "./images/Azolaxyl.jpg",
        description: "Contains <strong>Azoxystrobin 282 g/l + Metalaxyl-M 108 g/l </strong>An excellent broad-spectrum systemic fungicide with translaminar, curative, and protectant action against a wide range of diseases for use on a wide range of plants. It combines two highly effective molecules synergistically for enhanced crop protection.Target: Puccinia spp./Rusts, Powdery mildew, Black rot, Scab, Blight, Anthracnose, Leaf spot, Downy mildew, Botrytis",
        solution: "Use <strong>Azolaxyl</strong> 10mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Tomatoes AZolax.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Anthracnose", 
        infestationimage: "./images/avocado anthraconos.jpg",
        description: "New avocado shoots develops brown or purplish lesions, and shoots may dieback. Infected flower heads turns dark and die without producing fruit,young fruit form and then drop.",
        solution: "Use <strong>Azolaxy</strong> 5mls/20ltrs + <strong>Polysil </strong>2mls/20ltrs",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/Azolaxyl.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Phytophthora Fruit Rot", 
        infestationimage: "./images/avacado Phytophthora fruit rot.jpeg",
        description: "Diseased fruit have a distinct circular black area that usually occurs near the bottom portion or lowest spot on the fruit. Internally, the rot extends into the flesh, darkening it in the same pattern as on the affected surface. Affected fruit are often touching the soil or are hanging on low branches.",
        solution: "Use <strong>Azolaxy</strong> 5mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/Azolaxyl.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Tuta Absoluta", 
        infestationimage: "./images/Tuta 2.jpg",
        description: "Larvae of Tuta absoluta attack leaves, buds, stems, flowers, calyces, and tomato fruit. Then severely attacked tomato fruits lose their commercial value. ",
        solution: "Use <strong>Spinotech</strong> 3-4mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Ballworms", 
        infestationimage: "./images/ballworms.webp",
        description: " Young bollworm caterpillars enter tomatoes and start feeding. You will see a small, darkened hole at the base of the tomato fruit near the fruit stem. If you find such a darkened hole, open the fruit to search for the bollworm. Fruits with caterpillars inside decay or ripen fast.",
        solution: "Use <strong>Spinotech</strong> 3-4mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Ballworms ", 
        infestationimage: "./images/ballworms.webp",
        description: " Young bollworm caterpillars enter tomatoes and start feeding. You will see a small, darkened hole at the base of the tomato fruit near the fruit stem. If you find such a darkened hole, open the fruit to search for the bollworm. Fruits with caterpillars inside decay or ripen fast.",
        solution: "Use Spinotech 3-4mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Spinotech", 
        infestationimage: "./images/Spinotech.jpg",
        description: "SPINOTECH 480 SC Contains <strong>Spinosad 480 g/l</strong>, Spinosad is a naturally occurring substance found in Spinotech 480 SC that specifically affects GABA-gated ion channels and neuroreceptors in the nervous system of insects.Target: Thrips, Gypsy moth, Leaf beetles, Tent caterpillars, Colorado potato beetle, Leaf miner",
        solution: "Use <strong>Spinotech</strong> 3-4mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Capsicum thrips.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Spinotech ", 
        infestationimage: "./images/Spinotech.jpg",
        description: "SPINOTECH 480 SC Contains <strong>Spinosad 480 g/l</strong>, Spinosad is a naturally occurring substance found in Spinotech 480 SC that specifically affects GABA-gated ion channels and neuroreceptors in the nervous system of insects.Target: Thrips, Gypsy moth, Leaf beetles, Tent caterpillars, Colorado potato beetle, Leaf miner",
        solution: "Use <strong>Spinotech</strong> 3-4mls/20ltrs + <strong>Polysil<strong>2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Capsicum thrips.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Ballworm ", 
        infestationimage: "./images/ballworms.webp",
        description: " Young bollworm caterpillars enter tomatoes and start feeding. You will see a small, darkened hole at the base of the tomato fruit near the fruit stem. If you find such a darkened hole, open the fruit to search for the bollworm. Fruits with caterpillars inside decay or ripen fast.",
        solution: "Use <strong>Spinotech</strong> 3-4mls/20ltrs + <strong>Polysil<strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Ballworm", 
        infestationimage: "./images/ballworms.webp",
        description: " Young bollworm caterpillars enter tomatoes and start feeding. You will see a small, darkened hole at the base of the tomato fruit near the fruit stem. If you find such a darkened hole, open the fruit to search for the bollworm. Fruits with caterpillars inside decay or ripen fast.",
        solution: "Use <strong>Spinotech</strong> 3-4mls/20ltrs + <strong>Polysil<strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    
    
    { 
        problem: "Tuta Absoluta ", 
        infestationimage: "./images/Tuta 2.jpg",
        description: "Larvae of Tuta absoluta attack leaves, buds, stems, flowers, calyces, and tomato fruit. Then severely attacked tomato fruits lose their commercial value. ",
        solution: "Use <strong>Spinotech</strong> 3-4mls/20ltrs + <strong>Polysil</strong> 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Fruit and flowering foliar", 
        infestationimage: "./images/ripeberries.jpg",
        description: "OKINAWO® NPK GOLD is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/Okinawo.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO NPK GOLD", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO NPK GOLD ", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO ", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO GOLD", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO GOLD ", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Pottasium", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "SEAGOLD", 
        infestationimage: "./images/Seagold.jpg",
        description: "SEAGOLD® is a pure, natural fermented seaweed liquid biofertilizer enriched with chelating NPK. It helps plants overcome stress and stimulates growth, enhancing overall plant condition and production. Suitable for various crops including vegetables, fruits, and cereals.",
        solution: "Spray 10mls/20ltrs.",
        sprayingintervals: "Repeat spray after every 14-21 days.",
        image: "./images/stress free tomatoes.webp",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "SEAGOLD ", 
        infestationimage: "./images/Seagold.jpg",
        description: "SEAGOLD® is a pure, natural fermented seaweed liquid biofertilizer enriched with chelating NPK. It helps plants overcome stress and stimulates growth, enhancing overall plant condition and production. Suitable for various crops including vegetables, fruits, and cereals.",
        solution: "Spray 10mls/20ltrs.",
        sprayingintervals: "Repeat spray after every 14-21 days.",
        image: "./images/stress free tomatoes.webp",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
]
function searchSolutions() {
    const searchInput = document.getElementById("searchInput").value.toLowerCase();
    const solutionResults = document.getElementById("solutionResults");
    solutionResults.innerHTML = "";

    const filteredSolutions = solutions.filter(solution => {
        const problemName = solution.problem.toLowerCase();
        // Check if the full problem name matches the search input exactly
        return problemName === searchInput;
    });

    if (filteredSolutions.length === 0) {
        solutionResults.innerHTML = "<p>Kindly check your spelling or try rephrasing your search again.</p>";
    } else {
        filteredSolutions.forEach(solution => {
            const solutionDiv = document.createElement("div");
            solutionDiv.classList.add("solution");
            solutionDiv.innerHTML = `
                <h3>${solution.problem}</h3>
                <img src="${solution.infestationimage}" alt="${solution.problem}">
                <h3>Description:</h3>
                <p>${solution.description}</p>
                <h3>Solution:</h3>
                <p>${solution.solution}</p>
                <img src="${solution.image}" alt="${solution.problem}">
                <h3>Spraying Intervals:</h3>
                <p>${solution.sprayingintervals}</p>
                <h3>Available Pack Size:</h3>
                <table>
                    <tr>
                        <th>Pack Size</th>
                        <th>Price Range (Ksh) </th>
                    </tr>
                    ${solution.availablepacksize.split(',').map((size, index) => `
                        <tr>
                            <td>${size}</td>
                            <td>${solution.pricerange.split(',')[index]}</td>
                        </tr>
                    `).join('')}
                </table>`;
            
            solutionResults.appendChild(solutionDiv);
        });
    }
}

function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}

function handleAutomaticSearch() {
    const searchQuery = getQueryParam('search');
    if (searchQuery) {
        document.getElementById("searchInput").value = searchQuery;
        searchSolutions();
    }
}

window.onload = function() {
    handleAutomaticSearch();
};

function uploadImage() {
    const fileInput = document.getElementById("fileInput");
    const file = fileInput.files[0];

    if (!file) {
        alert("Please select an image to upload.");
        return;
    }

    const formData = new FormData();
    formData.append("image", file);

    fetch('http://localhost:3000/upload', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        displayDiagnosis(data);
    })
    .catch(error => {
        console.error('Error:', error);
    });
}

function displayDiagnosis(data) {
    const resultDiv = document.getElementById("solutionResults");
    resultDiv.innerHTML = `
        <h3>Diagnosis Result:</h3>
        <p>${data.description}</p>
        <h3>Recommendations:</h3>
        <p>${data.recommendations}</p>`;
}

function showContactList() {
    const contactList = document.getElementById("contactList");

    contactList.innerHTML = "";

    const table = document.createElement("table");
    table.innerHTML = `
        <tr>
            <th>Regions</th>
            <th>Name</th>
            <th>Contact</th>
        </tr>
        <tr>
            <td>Mt.Kenya Sales Lead</td>
            <td>Benson Mwangi</td>
            <td><a href="tel:+254719151171"><i class="fas fa-phone"></i> +254719151171</a></td>
        </tr>
        <tr>
            <td>Kiambu-Murang'a</td>
            <td>Name 2</td>
            <td> <a href="tel:1234567891"><i class="fas fa-phone"></i> 1234567891</a></td>
        </tr>
        <tr>
            <td>Kirinyaga-Embu</td>
            <td>Name 4</td>
            <td><a href="tel:1234567891"><i class="fas fa-phone"></i>1234567891</a></td>
        </tr>
        <tr>
            <td>Meru-Isiolo</td>
            <td>Name 6</td>
            <td> <a href="tel:1234567891"><i class="fas fa-phone"></i>1234567891</a></td>
        </tr>
        <tr>
            <td>Nanyuki-Nyeri</td>
            <td>Name 8</td>
            <td> <a href="tel:1234567891"><i class="fas fa-phone"></i> 1234567891</a></td>
        </tr>`;
    contactList.appendChild(table);
}

document.querySelector('.connect').addEventListener('click', showContactList);

document.addEventListener('DOMContentLoaded', function() {
    const header = document.querySelector('header h2');
    const text = header.textContent;
    header.textContent = '';
    header.classList.add('typewriter');

    let i = 0;
    const speed = 100;

    function typeWriter() {
        if (i < text.length) {
            header.textContent += text.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
        } else {
            header.classList.remove('typewriter');
        }
    }

    typeWriter();
});