const solutions = [
    { 
        problem: "Azolaxyl", 
        infestationimage: "./images/Azolaxyl.jpg",
        description: "Contains <strong>Azoxystrobin 282 g/l + Metalaxyl-M 108 g/l </strong>An excellent broad-spectrum systemic fungicide with translaminar, curative, and protectant action against a wide range of diseases for use on a wide range of plants. It combines two highly effective molecules synergistically for enhanced crop protection.Target: Puccinia spp./Rusts, Powdery mildew, Black rot, Scab, Blight, Anthracnose, Leaf spot, Downy mildew, Botrytis",
        solution: "Use Azolaxyl 10mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Tomatoes AZolax.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Anthracnose", 
        infestationimage: "./images/avocado anthraconos.jpg",
        description: "New shoots develops brown or purplish lesions, and shoots may dieback. Infected flower heads turns dark and die without producing fruit,young fruit form and then drop.",
        solution: "Use Azolaxy 5mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/Azolaxyl.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Phytophthora Fruit Rot", 
        infestationimage: "./images/avacado Phytophthora fruit rot.jpeg",
        description: "Diseased fruit have a distinct circular black area that usually occurs near the bottom portion or lowest spot on the fruit. Internally, the rot extends into the flesh, darkening it in the same pattern as on the affected surface. Affected fruit are often touching the soil or are hanging on low branches.",
        solution: "Use Azolaxy 5mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/Azolaxyl.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Tuta Absoluta", 
        infestationimage: "./images/Tuta 2.jpg",
        description: "Larvae of Tuta absoluta attack leaves, buds, stems, flowers, calyces, and tomato fruit. Then severely attacked tomato fruits lose their commercial value. ",
        solution: "Use Spinotech 3-4mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Ballworms", 
        infestationimage: "./images/ballworms.webp",
        description: " Young bollworm caterpillars enter tomatoes and start feeding. You will see a small, darkened hole at the base of the tomato fruit near the fruit stem. If you find such a darkened hole, open the fruit to search for the bollworm. Fruits with caterpillars inside decay or ripen fast.",
        solution: "Use Spinotech 3-4mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Ballworms ", 
        infestationimage: "./images/ballworms.webp",
        description: " Young bollworm caterpillars enter tomatoes and start feeding. You will see a small, darkened hole at the base of the tomato fruit near the fruit stem. If you find such a darkened hole, open the fruit to search for the bollworm. Fruits with caterpillars inside decay or ripen fast.",
        solution: "Use Spinotech 3-4mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Spinotech", 
        infestationimage: "./images/Spinotech.jpg",
        description: "SPINOTECH 480 SC Contains <strong>Spinosad 480 g/l</strong>, Spinosad is a naturally occurring substance found in Spinotech 480 SC that specifically affects GABA-gated ion channels and neuroreceptors in the nervous system of insects.Target: Thrips, Gypsy moth, Leaf beetles, Tent caterpillars, Colorado potato beetle, Leaf miner",
        solution: "Use Spinotech 3-4mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Capsicum thrips.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Spinotech ", 
        infestationimage: "./images/Spinotech.jpg",
        description: "SPINOTECH 480 SC Contains <strong>Spinosad 480 g/l</strong>, Spinosad is a naturally occurring substance found in Spinotech 480 SC that specifically affects GABA-gated ion channels and neuroreceptors in the nervous system of insects.Target: Thrips, Gypsy moth, Leaf beetles, Tent caterpillars, Colorado potato beetle, Leaf miner",
        solution: "Use Spinotech 3-4mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Capsicum thrips.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Ballworm ", 
        infestationimage: "./images/ballworms.webp",
        description: " Young bollworm caterpillars enter tomatoes and start feeding. You will see a small, darkened hole at the base of the tomato fruit near the fruit stem. If you find such a darkened hole, open the fruit to search for the bollworm. Fruits with caterpillars inside decay or ripen fast.",
        solution: "Use Spinotech 3-4mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Ballworm", 
        infestationimage: "./images/ballworms.webp",
        description: " Young bollworm caterpillars enter tomatoes and start feeding. You will see a small, darkened hole at the base of the tomato fruit near the fruit stem. If you find such a darkened hole, open the fruit to search for the bollworm. Fruits with caterpillars inside decay or ripen fast.",
        solution: "Use Spinotech 3-4mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    
    
    { 
        problem: "Tuta Absoluta ", 
        infestationimage: "./images/Tuta 2.jpg",
        description: "Larvae of Tuta absoluta attack leaves, buds, stems, flowers, calyces, and tomato fruit. Then severely attacked tomato fruits lose their commercial value. ",
        solution: "Use Spinotech 3-4mls/20ltrs + Polysil 2mls/20ltrs",
        sprayingintervals: "Repeat spray after 14 days. If the infestation is adverse repeat after 7 days.",
        image: "./images/Spinotech.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Fruit and flowering foliar", 
        infestationimage: "./images/ripeberries.jpg",
        description: "OKINAWO® NPK GOLD is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/Okinawo.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO NPK GOLD", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO NPK GOLD ", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO ", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO GOLD", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "OKINAWO GOLD ", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD Contains <strong>Nitrogen 15%，Phosphorus (P2O5) 5%，Potassium (K2O) 40% </strong> is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "Pottasium", 
        infestationimage: "./images/Okinawo.jpg",
        description: "OKINAWO® NPK GOLD is a fully water-soluble NPK fertilizer suitable for the entire vegetative and fruiting stages of agricultural crops.It’s ideal for periods when plants need elevated levels of Nitrogen and Potassium.",
        solution: "With its high Potassium content, it promotes enhanced seed and fruit formation, leading to higher yields. For optimal results, apply high-potassium fertilizers just before fruit formation. Spray 20mls/20ltrs.",
        sprayingintervals: "Repeat spray after 14-21 days.",
        image: "./images/ripeberries.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "SEAGOLD", 
        infestationimage: "./images/Seagold.jpg",
        description: "SEAGOLD® is a pure, natural fermented seaweed liquid biofertilizer enriched with chelating NPK. It helps plants overcome stress and stimulates growth, enhancing overall plant condition and production. Suitable for various crops including vegetables, fruits, and cereals.",
        solution: "Spray 10mls/20ltrs.",
        sprayingintervals: "Repeat spray after every 14-21 days.",
        image: "./images/stress free tomatoes.webp",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
    { 
        problem: "SEAGOLD ", 
        infestationimage: "./images/Seagold.jpg",
        description: "SEAGOLD® is a pure, natural fermented seaweed liquid biofertilizer enriched with chelating NPK. It helps plants overcome stress and stimulates growth, enhancing overall plant condition and production. Suitable for various crops including vegetables, fruits, and cereals.",
        solution: "Spray 10mls/20ltrs.",
        sprayingintervals: "Repeat spray after every 14-21 days.",
        image: "./images/stress free tomatoes.webp",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"(200-250),(300-350),(650-750),(2900-3000)"
       
    },
]
function searchSolutions() {
    const searchInput = document.getElementById("searchInput").value.toLowerCase();
    const solutionResults = document.getElementById("solutionResults");
    solutionResults.innerHTML = "";

    const filteredSolutions = solutions.filter(solution => {
        const problemName = solution.problem.toLowerCase();
        // Check if the full problem name matches the search input exactly
        return problemName == searchInput;
    });

    if (filteredSolutions.length === 0) {
        solutionResults.innerHTML = "<p>Kindly check your spelling or try rephrasing your search again.</p>";
    } else {
        filteredSolutions.forEach(solution => {
            const solutionDiv = document.createElement("div");
            solutionDiv.classList.add("solution");
            solutionDiv.innerHTML = `
                <h3>${solution.problem}</h3>
                <img src="${solution.infestationimage}" alt="${solution.problem}">
                <h3>Description:</h3>
                <p>${solution.description}</p>
                <h3>Solution:</h3>
                <p>${solution.solution}</p>
                <img src="${solution.image}" alt="${solution.problem}">
                <h3>Spraying Intervals:</h3>
                <p>${solution.sprayingintervals}</p>
                <h3>Available Pack Size:</h3>
                <table>
                    <tr>
                        <th>Pack Size</th>
                        <th>Price Range</th>
                    </tr>
                    ${solution.availablepacksize.split(',').map((size, index) => `
                        <tr>
                            <td>${size}</td>
                            <td>${solution.pricerange.split(',')[index]}</td>
                        </tr>
                    `).join('')}
                </table>`;
            
            solutionResults.appendChild(solutionDiv);
        });
    }
}

function searchSolutions() {
    const searchInput = document.getElementById("searchInput").value.toLowerCase();
    const solutionResults = document.getElementById("solutionResults");
    solutionResults.innerHTML = "";

    const filteredSolutions = solutions.filter(solution => {
        const problemName = solution.problem.toLowerCase();
        // Check if the full problem name matches the search input exactly
        return problemName == searchInput;
    });

    if (filteredSolutions.length === 0) {
        solutionResults.innerHTML = "<p>Kindly check your spelling or try rephrasing your search again.</p>";
    } else {
        filteredSolutions.forEach(solution => {
            const solutionDiv = document.createElement("div");
            solutionDiv.classList.add("solution");
            solutionDiv.innerHTML = `
                <h3>${solution.problem}</h3>
                <img src="${solution.infestationimage}" alt="${solution.problem}">
                <h3>Description:</h3>
                <p>${solution.description}</p>
                <h3>Solution:</h3>
                <p>${solution.solution}</p>
                <img src="${solution.image}" alt="${solution.problem}">
                <h3>Spraying Intervals:</h3>
                <p>${solution.sprayingintervals}</p>
                <h3>Available Pack Size:</h3>
                <table>
                    <tr>
                        <th>Pack Size</th>
                        <th>Price Range (Ksh) </th>
                    </tr>
                    ${solution.availablepacksize.split(',').map((size, index) => `
                        <tr>
                            <td>${size}</td>
                            <td>${solution.pricerange.split(',')[index]}</td>
                        </tr>
                    `).join('')}
                </table>`;
            
            solutionResults.appendChild(solutionDiv);
        });
    }
}

function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}

// Function to handle automatic search based on URL parameter
function handleAutomaticSearch() {
    const searchQuery = getQueryParam('search');
    if (searchQuery) {
        // Perform search based on the query parameter
        document.getElementById("searchInput").value = searchQuery;
        searchSolutions();
    }
}

// Call the function to handle automatic search when the page loads
window.onload = function() {
    handleAutomaticSearch(); // Perform automatic search based on URL parameter
};


// Function to handle the click event on the Connect button
// Function to handle the click event on the Connect button
// Function to handle the click event on the Connect button
function showContactList() {
    const contactList = document.getElementById("contactList");

    // Clear any existing content
    contactList.innerHTML = "";

    // Create and append the table
    const table = document.createElement("table");
    table.innerHTML = `
        <tr>
            <th>Regions</th>
            <th>Name</th>
            <th>Contact</th>
        </tr>
        <tr>
        <td>Mt.Kenya Regional-Manager</td>
        <td>Name 1</td>
        <td><a href="tel:+254759790387"><i class="fas fa-phone"></i> +254759790387</a></td>
    </tr>

        <tr>
            <td>Kiambu-Murang'a</td>
            <td>Name 2</td>
            <td> <a href="tel:+254742512369"><i class="fas fa-phone"></i> +254742512369</a></td>
        </tr>
        
        <tr>
            <td>Kirinyaga-Embu</td>
            <td>Name 4</td>
            <td><a href="tel:+254742512107"><i class="fas fa-phone"></i> +254742512107</a></td>
        </tr>
        
        <tr>
            <td>Meru-Isiolo</td>
            <td>Name 6</td>
            <td> <a href="tel:+254743086987"><i class="fas fa-phone"></i> +254743086987</a></td>
        </tr>
        
        <tr>
            <td>Nanyuki-Nyeri</td>
            <td>Name 8</td>
            <td> <a href="tel:+254742512384"><i class="fas fa-phone"></i> +254742512384</a></td>
        </tr>
        


    `;
    contactList.appendChild(table);
}

// Add event listener to the Connect button
document.querySelector('.connect').addEventListener('click', showContactList);

document.addEventListener('DOMContentLoaded', function() {
    const header = document.querySelector('header h2');
    const text = header.textContent;
    header.textContent = ''; // Clear the initial text
    header.classList.add('typewriter');

    let i = 0;
    const speed = 100; // Adjust typing speed here

    function typeWriter() {
        if (i < text.length) {
            header.textContent += text.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
        } else {
            header.classList.remove('typewriter');
        }
    }

    typeWriter();
});